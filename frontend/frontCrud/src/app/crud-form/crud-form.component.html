<div class="container">
  <h1>CRUD de Usuarios</h1>
  <button class="btn btn-info" (click)="createUser()">Crear Usuario</button>
  <form *ngIf="isCreating || isEditing">
    <h3 *ngIf="loadingInfo">
      {{ isCreating ? "Creando Usuario..." : "Editando Usuario..." }}
    </h3>
    <div class="form-group">
      <label for="name">Nombre</label>
      <input
        type="text"
        class="form-control"
        id="name"
        [(ngModel)]="user.name"
        aria-describedby="emailHelp"
        placeholder="Nombre"
        [ngModelOptions]="{ standalone: true }"
      />
    </div>
    <div class="form-group">
      <label for="email">Correo</label>
      <input
        type="email"
        class="form-control"
        id="email"
        [(ngModel)]="user.email"
        aria-describedby="emailHelp"
        placeholder="Correo"
        [ngModelOptions]="{ standalone: true }"
      />
    </div>
    <div class="form-group" *ngIf="isCreating">
      <label for="pass">Contraseña</label>
      <input
        type="password"
        class="form-control"
        id="pass"
        [(ngModel)]="user.password"
        aria-describedby="emailHelp"
        placeholder="Contraseña"
        [ngModelOptions]="{ standalone: true }"
      />
    </div>
    <button type="button" (click)="postUser()" class="btn btn-primary">
      {{ isCreating ? "Crear usuario" : "Editar Usuario" }}
    </button>
    <div class="clearfix"></div>
  </form>
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nombre</th>
        <th scope="col">Correo</th>
        <th scope="col">Opciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of listUsers">
        <th scope="row">{{ user.id }}</th>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>
          <button class="btn btn-info" (click)="editUser(user)">Editar</button> {{ ' ' }}
          <button class="btn btn-danger" (click)="deleteUser(user)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
